<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Tokenizer Client Sample</title>
</head>
<body>

	<h1>Testing tokenizer</h1>
	
	<p>Fill in the details below, and click 'tokenize'</p>
	
	<p>
		<label for="key">Public key:</label><input type="text" id="key" value="pub_hrkK7qM6Can2vCsolp">
	</p>
	<p>
		<label for="cardnum">Card number:</label><input type="text" id="cardnum" value="4111111111111111">
	</p>
	<p>
		<label for="expire">Expiry date:</label><input type="text" id="expire" value="04-2020">
	</p>
	<p>
		<label for="cvv">CVV:</label><input type="text" id="cvv" value="324">
	</p>

	<button onclick="doTest();">Test</button>
	
	<script src="paysbuy.min.js"></script>
	<script type="text/javascript">
		
		function doTest() {

			Paysbuy.setPublicKey(document.getElementById('key').value);

			Paysbuy.createToken({
				card_number:document.getElementById('cardnum').value,
				card_expiry_date:document.getElementById('expire').value,
				card_cvn:document.getElementById('cvv').value
			}, handler);

		}

		function handler(status, response) {
			if (response.token) {
				alert('The status was '+status+', and the returned token was "'+response.token+'"');
			} else {
				alert(response.code+": "+response.message);
			}
			
		}

	</script>

</body>
</html>
